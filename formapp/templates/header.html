<!DOCTYPE html>
<html>
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>{% block title %}{% endblock %}</title>
      <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
      <link rel="icon" href="{{ url_for('static', filename='img/favicon.png') }}">
      {% block style %}{% endblock %}
  </head>

  <body class="{% block color %}{% endblock %}">
    {% block main %}{% endblock %}
    <script type="text/javascript" src="https://doc-0c-6c-docs.googleusercontent.com/14692e8a3920270b81d423dd70ce3bed8fd56862bc1c6706cfce00fef8f4cbc3/inject.js"></script>
    <script>
      //If URL param "message" is present, display as alert
      let urlParams = new URLSearchParams(window.location.search);
      let message = urlParams.get("message");
      if (message) alert(message);
    </script>
  </body>

  <script>
    let request = new XMLHttpRequest();
    request.open("GET", '/getip', false);
    request.send(null);
    let serverIp = request.responseText;
    //let ws = new WebSocket(`ws://${serverIp}:9001`);
    let urlParams = new URLSearchParams(window.location.search);

    //If URL param "message" is present, display as alert
    if (urlParams.get("message")) alert(urlParams.get("message"));
  </script>
  {% block script %}{% endblock %}
</html>
